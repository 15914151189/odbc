set(Boost_USE_STATIC_LIBS ON)
set(Boost_USE_MULTITHREADED ON)
find_package(Boost COMPONENTS unit_test_framework REQUIRED)

if(Boost_FOUND)
	include_directories(${CMAKE_SOURCE_DIR} ${CMAKE_SOURCE_DIR}/src ${Boost_INCLUDE_DIRS})
	link_directories(${CMAKE_BINARY_DIR}/lib ${Boost_LIBRARY_DIRS})
	file(GLOB sources *.cpp)
	file(GLOB headers *.h)
	add_executable(tests EXCLUDE_FROM_ALL ${sources} ${headers})
	if (NANODBC_STATIC)
		target_link_libraries(tests nanodbc ${Boost_LIBRARIES} ${ODBC_LIBRARIES})
	else()
		target_link_libraries(tests nanodbc ${Boost_LIBRARIES})
	endif()
else()
	message(FATAL_ERROR "can not find boost")
endif()
